<script>
    
    fetch("{{ndif_url}}")
        .then((response) => {
            if (response.status == 200) {
                Array.from(document.getElementsByClassName("ndif-status-button")).forEach((ndifElement) => {
                    Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                        spanElement.style.setProperty('color', '#23C552', 'important');
                    });
                });
            }
            else {
                Array.from(document.getElementsByClassName("ndif-status-button")).forEach((ndifElement) => {
                    Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                        spanElement.style.setProperty('color', '#F84F31', 'important');
                    });
                });
                var statusIcon = document.querySelector('.ndif-status-button .fa-circle-check');
                if (statusIcon) {
                    // not here
                    statusIcon.classList.replace('fa-circle-check', 'fa-circle-xmark'); 
                }
            }
        })
        .catch((response) => {
            Array.from(document.getElementsByClassName("ndif-status-button")).forEach((ndifElement) => {
                Array.from(ndifElement.getElementsByTagName('span')).forEach((spanElement) => {
                    spanElement.style.setProperty('color', '#F84F31', 'important');
                });
            });
            var statusIcon = document.querySelector('.ndif-status-button .fa-circle-check');
            if (statusIcon) {
                statusIcon.classList.replace('fa-circle-check', 'fa-circle-xmark');
            }
        })
</script>